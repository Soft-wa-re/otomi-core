apps:
    prometheus:
        remoteWrite:
            enabled: true
            otomiThanos: false
            rwConfig:
                basicAuth:
                    enabled: true
                    username: otomi_utrecht
                customConfig: |-
                    writeRelabelConfigs:
                      - targetLabel: tenant
                        sourceLabels: 
                        - instance
                        replacement: otomi-aks-ont
                      - targetLabel: cluster
                        sourceLabels: 
                        - instance
                        replacement: otomi-aks-ont
                      - targetLabel: customer_id
                        sourceLabels: 
                        - instance
                        replacement: "00001"
                    queueConfig:
                      capacity: 18000
                      maxShards: 100
                      maxSamplesPerSend: 6000
                target: https://remote.target.io/api/v1/push
        replicas: 1
        scrapeInterval: 60s
        retention: 1d
        retentionSize: 4GB
        storageSize: 5Gi
        resources:
            prometheus:
                limits:
                    cpu: 500m
                    memory: 256Mi
                requests:
                    cpu: 100m
                    memory: 128Mi
            kube-state-metrics:
                limits:
                    cpu: 100m
                    memory: 256Mi
                requests:
                    cpu: 100m
                    memory: 128Mi
            node-exporter:
                limits:
                    cpu: 500m
                    memory: 128Mi
                requests:
                    cpu: 100m
                    memory: 128Mi
        enabled: true
